!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Oneshop=t():e.Oneshop=t()}(window,(function(){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.baseUrl=e||""}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remove=t.update=t.get=t.create=void 0;const o=r(7),n=e=>new Promise((t,r)=>{let n={method:e.method,headers:{"Content-Type":"application/json"}};e.url=e.url+(Object.keys(e.query||{}).length?`?${o.stringify(e.query)}`:""),/^POST|PUT$/i.test(e.method)&&(n.body=JSON.stringify(e.body)),fetch(e.url,n).then(o=>{if(o.status>200){let t=[],n={};o.text().then(i=>{try{n=JSON.parse(i)}catch(e){n=n||{}}/^401 Unauthorized$/.test(i)?t.push(`You don have permission to perform this task. ${e.method.toUpperCase()} ${e.url}`):"object"==typeof n&&Array.isArray(n.messages)&&(t=n.messages),r({code:(o||{}).status||500,message:t})})}else{let r={};o.text().then(o=>{try{r=JSON.parse(o)}catch(e){r=null}finally{r=r||{}}t(/^GET$/i.test(e.method)&&Array.isArray((r.data||{}).rows)?r.data.rows:r.data||r.messages||!0)})}})});t.create=e=>n({method:"POST",url:e.url,body:e.body,query:{}}),t.get=e=>n({method:"GET",url:e.url,body:e.body,query:{}}),t.update=e=>n({method:"PUT",url:e.url,body:e.body,query:{}}),t.remove=e=>n({method:"DELETE",url:e.url,body:e.body,query:{}})},function(e,t,r){"use strict";var o=Object.prototype.hasOwnProperty,n=Array.isArray,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)void 0!==e[o]&&(r[o]=e[o]);return r};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],o=0;o<t.length;++o)for(var i=t[o],s=i.obj[i.prop],a=Object.keys(s),u=0;u<a.length;++u){var l=a[u],c=s[l];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:s,prop:l}),r.push(c))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(n(r)){for(var o=[],i=0;i<r.length;++i)void 0!==r[i]&&o.push(r[i]);t.obj[t.prop]=o}}}(t),e},decode:function(e,t,r){var o=e.replace(/\+/g," ");if("iso-8859-1"===r)return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch(e){return o}},encode:function(e,t,r){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===r)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var n="",s=0;s<o.length;++s){var a=o.charCodeAt(s);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?n+=o.charAt(s):a<128?n+=i[a]:a<2048?n+=i[192|a>>6]+i[128|63&a]:a<55296||a>=57344?n+=i[224|a>>12]+i[128|a>>6&63]+i[128|63&a]:(s+=1,a=65536+((1023&a)<<10|1023&o.charCodeAt(s)),n+=i[240|a>>18]+i[128|a>>12&63]+i[128|a>>6&63]+i[128|63&a])}return n},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(n(e)){for(var r=[],o=0;o<e.length;o+=1)r.push(t(e[o]));return r}return t(e)},merge:function e(t,r,i){if(!r)return t;if("object"!=typeof r){if(n(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(i&&(i.plainObjects||i.allowPrototypes)||!o.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var a=t;return n(t)&&!n(r)&&(a=s(t,i)),n(t)&&n(r)?(r.forEach((function(r,n){if(o.call(t,n)){var s=t[n];s&&"object"==typeof s&&r&&"object"==typeof r?t[n]=e(s,r,i):t.push(r)}else t[n]=r})),t):Object.keys(r).reduce((function(t,n){var s=r[n];return o.call(t,n)?t[n]=e(t[n],s,i):t[n]=s,t}),a)}}},function(e,t,r){"use strict";var o=String.prototype.replace,n=/%20/g,i=r(2),s={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=i.assign({default:s.RFC3986,formatters:{RFC1738:function(e){return o.call(e,n,"+")},RFC3986:function(e){return String(e)}}},s)},function(e,t,r){e.exports=r(5)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),n=r(6),i=r(10),s=r(11),a=r(12),u=r(13),l=r(14),c=r(15),f=r(16),d=r(17),p=r(18);class y extends o.default{constructor(e){super(e),this.setShopBaseURL(e||""),this.article=new n.default(this.getShopDomain()),this.cart=new i.default(this.getShopDomain()),this.consumer=new s.default(this.getShopDomain()),this.merchandise=new a.default(this.getShopDomain()),this.order=new u.default(this.getShopDomain()),this.shipping_method=new l.default(this.getShopDomain()),this.shop=new c.default(this.getShopDomain()),this.signature=new f.default(this.getShopDomain()),this.validation=new d.default(this.getShopDomain()),this.voucher=new p.default(this.getShopDomain())}setShopBaseURL(e){this.baseUrl=e?`${e}/api`:"/api"}getShopDomain(){return this.baseUrl}}t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0);class i extends n.default{constructor(e){super(e)}get(e){return o.get({url:`${this.baseUrl}/articles`,query:e||{}})}}t.default=i},function(e,t,r){"use strict";var o=r(8),n=r(9),i=r(3);e.exports={formats:i,parse:n,stringify:o}},function(e,t,r){"use strict";var o=r(2),n=r(3),i=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Array.isArray,u=Array.prototype.push,l=function(e,t){u.apply(e,a(t)?t:[t])},c=Date.prototype.toISOString,f=n.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:f,formatter:n.formatters[f],indices:!1,serializeDate:function(e){return c.call(e)},skipNulls:!1,strictNullHandling:!1},p=function e(t,r,n,i,s,u,c,f,p,y,h,b,m){var g,v=t;if("function"==typeof c?v=c(r,v):v instanceof Date?v=y(v):"comma"===n&&a(v)&&(v=o.maybeMap(v,(function(e){return e instanceof Date?y(e):e})).join(",")),null===v){if(i)return u&&!b?u(r,d.encoder,m,"key"):r;v=""}if("string"==typeof(g=v)||"number"==typeof g||"boolean"==typeof g||"symbol"==typeof g||"bigint"==typeof g||o.isBuffer(v))return u?[h(b?r:u(r,d.encoder,m,"key"))+"="+h(u(v,d.encoder,m,"value"))]:[h(r)+"="+h(String(v))];var O,j=[];if(void 0===v)return j;if(a(c))O=c;else{var x=Object.keys(v);O=f?x.sort(f):x}for(var w=0;w<O.length;++w){var S=O[w],P=v[S];if(!s||null!==P){var D=a(v)?"function"==typeof n?n(r,S):r:r+(p?"."+S:"["+S+"]");l(j,e(P,D,n,i,s,u,c,f,p,y,h,b,m))}}return j};e.exports=function(e,t){var r,o=e,u=function(e){if(!e)return d;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||d.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=n.default;if(void 0!==e.format){if(!i.call(n.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var o=n.formatters[r],s=d.filter;return("function"==typeof e.filter||a(e.filter))&&(s=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:d.addQueryPrefix,allowDots:void 0===e.allowDots?d.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:d.charsetSentinel,delimiter:void 0===e.delimiter?d.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:d.encode,encoder:"function"==typeof e.encoder?e.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:d.encodeValuesOnly,filter:s,formatter:o,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:d.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:d.strictNullHandling}}(t);"function"==typeof u.filter?o=(0,u.filter)("",o):a(u.filter)&&(r=u.filter);var c,f=[];if("object"!=typeof o||null===o)return"";c=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var y=s[c];r||(r=Object.keys(o)),u.sort&&r.sort(u.sort);for(var h=0;h<r.length;++h){var b=r[h];u.skipNulls&&null===o[b]||l(f,p(o[b],b,y,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.formatter,u.encodeValuesOnly,u.charset))}var m=f.join(u.delimiter),g=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),m.length>0?g+m:""}},function(e,t,r){"use strict";var o=r(2),n=Object.prototype.hasOwnProperty,i=Array.isArray,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:o.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},u=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},l=function(e,t,r,o){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(i),l=a?i.slice(0,a.index):i,c=[];if(l){if(!r.plainObjects&&n.call(Object.prototype,l)&&!r.allowPrototypes)return;c.push(l)}for(var f=0;r.depth>0&&null!==(a=s.exec(i))&&f<r.depth;){if(f+=1,!r.plainObjects&&n.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+i.slice(a.index)+"]"),function(e,t,r,o){for(var n=o?t:u(t,r),i=e.length-1;i>=0;--i){var s,a=e[i];if("[]"===a&&r.parseArrays)s=[].concat(n);else{s=r.plainObjects?Object.create(null):{};var l="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(l,10);r.parseArrays||""!==l?!isNaN(c)&&a!==l&&String(c)===l&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(s=[])[c]=n:s[l]=n:s={0:n}}n=s}return n}(c,t,r,o)}};e.exports=function(e,t){var r=function(e){if(!e)return s;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?s.charset:e.charset;return{allowDots:void 0===e.allowDots?s.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||o.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:s.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var c="string"==typeof e?function(e,t){var r,l={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,d=c.split(t.delimiter,f),p=-1,y=t.charset;if(t.charsetSentinel)for(r=0;r<d.length;++r)0===d[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[r]?y="utf-8":"utf8=%26%2310003%3B"===d[r]&&(y="iso-8859-1"),p=r,r=d.length);for(r=0;r<d.length;++r)if(r!==p){var h,b,m=d[r],g=m.indexOf("]="),v=-1===g?m.indexOf("="):g+1;-1===v?(h=t.decoder(m,s.decoder,y,"key"),b=t.strictNullHandling?null:""):(h=t.decoder(m.slice(0,v),s.decoder,y,"key"),b=o.maybeMap(u(m.slice(v+1),t),(function(e){return t.decoder(e,s.decoder,y,"value")}))),b&&t.interpretNumericEntities&&"iso-8859-1"===y&&(b=a(b)),m.indexOf("[]=")>-1&&(b=i(b)?[b]:b),n.call(l,h)?l[h]=o.combine(l[h],b):l[h]=b}return l}(e,r):e,f=r.plainObjects?Object.create(null):{},d=Object.keys(c),p=0;p<d.length;++p){var y=d[p],h=l(y,c[y],r,"string"==typeof e);f=o.merge(f,h,r)}return o.compact(f)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0);class i extends n.default{constructor(e){super(e),this.item={get:e=>o.get({url:`${this.baseUrl}/carts/${e}/items`,query:{}}),put:(e,t)=>o.create({url:`${this.baseUrl}/carts/${e}/items`,body:t||{}}),remove:(e,t)=>o.remove({url:`${this.baseUrl}/carts/${e}/items/${t}`})}}create(){return o.create({url:`${this.baseUrl}/carts`,body:{}})}}t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0);class i extends n.default{constructor(e){super(e),this.profile={get:e=>o.get({url:`${this.baseUrl}/consumers/session`,query:e||{}}),update:e=>o.update({url:`${this.baseUrl}/consumers/session`,body:e})}}signUp(e){return o.create({url:`${this.baseUrl}/consumers`,body:e})}logout(){return o.remove({url:`${this.baseUrl}/consumers/session`})}login(e){return o.create({url:`${this.baseUrl}/sessions`,body:e})}checkout(e){return o.create({url:`${this.baseUrl}/payments`,body:e})}}t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0);class i extends n.default{constructor(e){super(e)}get(e){return o.get({url:`${this.baseUrl}/merchandises`,query:e||{}})}}t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0);class i extends n.default{constructor(e){super(e),this.history={get:e=>o.get({url:`${this.baseUrl}/orders/histories`,query:e||{}})}}place(e){return o.create({url:`${this.baseUrl}/orders`,body:e})}}t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0);class i extends n.default{constructor(e){super(e)}get(e){return o.get({url:`${this.baseUrl}/shipping_methods`,query:e||{}})}}t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0);class i extends n.default{constructor(e){super(e)}settings(){return o.get({url:`${this.baseUrl}/shops/session`})}}t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0);class i extends n.default{constructor(e){super(e)}create(e){return o.create({url:`${this.baseUrl}/signatures`,body:{extension:e.extension}})}}t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0);class i extends n.default{constructor(e){super(e)}create(e){return o.create({url:`${this.baseUrl}/validations`,body:e})}consume(e,t){return o.update({url:`${this.baseUrl}/validations/${e}`,body:t})}}t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0);class i extends n.default{constructor(e){super(e)}get(e){return o.get({url:`${this.baseUrl}/vouchers`,query:e||{}})}}t.default=i}])}));